## これは何か？

40cmドブソニアンなどに使っている赤道台(Equatorial Platform)の設計や実験の結果など雑多なものを置いています。タミヤの6速HEというギヤボックスを活用して低消費電力な追尾を目指していました。RE-260互換モーターをそのまま使用し、センサなしで恒星時追尾します。
もともと55cmドブソニアンのポンセットマウントを作ってたので、Poncetという単語が散見されますが、それすらGee式で、最終的な実装のかたちは独自形式です。もし読めそうなファイルがあれば眺めていただければと思います。

このプロジェクトはSubversionで管理していましたが、データシートなど大きなバイナリを含んでいたため、gitに変換すると非常に大きくなったために、主要なファイルのみgithubに上げることにしました。
そういう経緯のためにgit cloneしたところで何かできるものではなく、過去にこんなの作って実験してましたという記録を残すことが目的です。プロジェクトの残骸ですね。。。

## 開発環境

* MPLAB X 新しくても古くても動かないと思います。
* XCircuit Linux環境で使っていた回路図CADです。
* Pcb Linux環境で使っていたプリント基板CADです。

## MPLab Xのプロジェクトたち

複数試作しましたが、世の中に出回っている基板はPIC16F1825を使った新旧2種類の基板のみです。外見上の区別は3.5mmミニジャックがある(新)かない(古)か、内部ではMOSFETの駆動用にインバータICが入ってる(新)か入ってない(古)かです。

* FB-UB-16F18345.X<br/>PIC16F18345による試作です。これを実装した架台は無いです。
* FB-UB-16F18857.X<br/>PIC16F18857による試作です。これを実装した架台は無いです。
* FB-UB-18F25Q10.X<br/>PIC18F25Q10による試作です。これを実装した架台は無いです。
* FB-USB.X<br/>検討のみ。試作してない。
* FB-minimal.X<br/>検討のみ。試作してない。
* Flasher.X<br/>ストロボスコープを持ち歩くのは大げさなので、PIC16F1825基板を流用してLEDによるストロボスコープもどきを作ってました。
* HB-B-16F1825.X<br/>PIC16F1825による実装です。5.5Vまで動作することを目指しています。3.5mmステレオジャックを実装している新しい基板ではこのソフトウェアを書き込む必要があります。電源電圧の変化には安定ですが、ADCのVrefを2.048V設定とすることによる動作下限電圧があります。
* HB-B-16LF1825.X<br/>PIC16F1825による実装です。MCUの動作下限電圧まで動作することを目指しています。3.5mmステレオジャックを実装している新しい基板ではこのソフトウェアを書き込む必要があります。LF版MCUによる実装を目指していましたが、LF版を使う強い理由がなくてLF版で実装してません。ADCのVrefが電源電圧なので、5V近くなると1LSBの電圧が大きくなって制御が不安定になるかもしれません。
* HB-CC.X<br/>検討のみ。試作してない。
* HB-UB-16F1825.X<br/>PIC16F1825による実装です。5.5Vまで動作することを目指しています。3.5mmステレオジャックを実装していない古い基板ではこのソフトウェアを書き込む必要があります。電源電圧の変化には安定ですが、ADCのVrefを2.048V設定とすることによる動作下限電圧があります。
* HB-UB-16LF1825.X<br/>PIC16F1825による実装です。MCUの動作下限電圧まで動作することを目指しています。3.5mmステレオジャックを実装していない古い基板ではこのソフトウェアを書き込む必要があります。LF版MCUによる実装を目指していましたが、LF版を使う強い理由がなくてLF版で実装してません。ADCのVrefが電源電圧なので、5V近くなると1LSBの電圧が大きくなって制御が不安定になるかもしれません。
* HB-VC.X<br/>検討のみ。試作してない。

乾電池やニッケル水素充電池を3本使用し、新しい基板ならHB-B-16F1825.Xからのソフトウェアを書き込むとよいはずです。
SP赤道儀など軽負荷の場合は電池2本でも動きますが、2本の場合はHB-B-16LF1825.Xを使う必要があります。

## 外部信号

* 巻き戻しSW<br/>
追尾開始位置を知らせるスイッチを接続します。必須です。
* 動作限界SW<br/>
単方向噛合ナット(改造したウルトラナッターなど)を使ってない場合、動作限界を超えたら止めるように指示するスイッチを接続します。単方向噛合ナットを使っている場合は空回りするだけなので不要です。
* 停止SW<br/>
半自動追尾のときの停止スイッチを接続します。新しい基板では3.5mmミニジャックを接続端子として実装しています。
* 2倍速SW<br/>
半自動追尾のときの2倍速スイッチを接続します。新しい基板では3.5mmミニジャックを接続端子として実装しています。

## ギヤボックスやモーターなど

タミヤの6速HEとそれに付属するRE-260モーターに合わせてありますが、モーター定数定義を替えることにより他のマブチ互換の模型用モーターでも動きます。
なお、モーターの回転数が定格の1/10くらいのところで一定速度の制御をかけるように設計されており、motor.incにモーター定数が定義されています。
そして、たとえば6-speed-4th-40min-16in.sが現在使用中の40cmドブソニアンの追尾架台に組み込んでいる速度表です。この速度票を巻き戻したときに頭から読み、最後に達したら止まります。
また、有限の速度表を使わず、表を無限に循環して使用する設定もでき、SP赤道儀向けなどではそうしています。いずれにせよ、motor.incに記述があるので読んでください。

本実装ではタミヤの6速HE推しですが、これは安いし入手性がいいし6速から選べるし1300分の1まで減速できるし平歯車だけで構成されてていずれも高効率なため、SP赤道儀といった軽負荷用途にもアンバランスな追尾架台といった重負荷用途にも最適であると考えています。
実際に、SP赤道儀のような軽負荷では消費電流20mA前後、40㎝ドブソニアンのような重負荷用途では消費電流100mA前後となります。エネループ単三でそれぞれ100時間と20時間相当です。
